

// All user-facing strings are translated to Korean.
import { StatusEffectType, GameConfig as AppGameConfig, SkillDefinition, StatModifier, PlayerStats, StatusEffectDefinition as AppStatusEffectDefinition, ItemType, PermanentUpgradeConfigItem, PermanentStatsLevels, Rarity, ItemEnhancementConfig } from './types.ts'; 

export const RARITY_COLORS: Record<string, string> = {
  ['ì¼ë°˜']: 'text-gray-300',
  ['ê³ ê¸‰']: 'text-sky-400', 
  ['í¬ê·€']: 'text-yellow-400',
  ['ì˜ì›…']: 'text-purple-400',
  ['ì „ì„¤']: 'text-orange-500',
};

const DEFAULT_ITEM_ENHANCEMENT_CONFIG: ItemEnhancementConfig = {
  maxLevelByRarity: {
    [Rarity.COMMON]: 3,
    [Rarity.UNCOMMON]: 5,
    [Rarity.RARE]: 7,
    [Rarity.EPIC]: 9,
    [Rarity.LEGENDARY]: 10,
  },
  baseGoldCost: 20,
  goldCostIncreaseFactorPerLevel: 1.5, // Cost = base * (factor ^ currentLevel)
  baseStoneCost: 1,
  stoneCostIncreaseFactorPerLevel: 1.3, // Cost = base * (factor ^ currentLevel)
  itemLevelMultiplier: 0.1, // Cost also multiplied by (1 + itemEffectiveLevel * this_multiplier)
  bonusPerLevel: 0.05, // 5% bonus to modifier values per enhancement level
};

export const GAME_CONFIG: AppGameConfig = {
  initialPlayerRunStats: { // Renamed from initialPlayerStats
    hp: 180, 
    maxHp: 180, 
    attack: 16, 
    defense: 10, 
    critChance: 0.05, 
    critDamage: 1.5, 
    healthRegen: 2.2, 
    gold: 100, // Starting gold for the very first run, or if not carried over
    attackSpeed: 1.0, 
  },
  playerLevelUpStatPoints: 5,
  baseExpToLevel: 70, 
  expScalingFactor: 1.4, 
  monsterSpawnIntervalMs: 1250, 
  battleTickIntervalMs: 500,
  maxMonstersOnScreen: 80,
  healthRegenIntervalMs: 1000, 
  playerBaseStatusEffectChance: { 
    type: StatusEffectType.POISON,
    chance: 0.15, 
    potency: 2,   
    duration: 3,  
  },
  BOSS_WAVE_INTERVAL: 10,
  BOSS_LOOT_MIN_RARITY_INDEX: 1, 
  PLAYER_MOVEMENT_SPEED: 2, 
  MONSTER_MOVEMENT_SPEED: 1.5, 
  ENGAGEMENT_RANGE: 1.5, 
  AGGRO_RANGE: 10, 
  MAP_BOUNDS: { minX: -12.5, maxX: 12.5, minZ: -12.5, maxZ: 12.5 }, 
  PLAYER_Y_POSITION: 0.4, 
  MONSTER_BASE_Y_SCALE_FACTOR: 0.5, 
  MOVEMENT_TARGET_UPDATE_COOLDOWN_TICKS: 3, 
  QUAKE_STOMP_RADIUS: 3,
  LUCKY_STREAK_DURATION_TICKS: 30, 
  LUCKY_STREAK_WINDOW_TICKS: 5,
  MIN_MONSTERS_PER_NON_BOSS_WAVE: 3, 
  MONSTERS_PER_WAVE_INCREMENT: 1, 
  INITIAL_WAVE_MONSTER_COUNT_OVERRIDES: { 1: 3, 2: 4, 3: 5, 4: 6, 5: 7 },
  ENHANCEMENT_STONE_DROP_CHANCE: 0.15, // 15% chance to drop stones
  ENHANCEMENT_STONE_DROP_AMOUNT: [1, 3], // Drops 1 to 3 stones
  ITEM_ENHANCEMENT_CONFIG: DEFAULT_ITEM_ENHANCEMENT_CONFIG,
};

export const PERMANENT_UPGRADES_SETTINGS: PermanentUpgradeConfigItem[] = [
  {
    key: 'maxHp',
    name: 'ì˜êµ¬ ìµœëŒ€ ì²´ë ¥',
    description: (bonusPerLevel, currentLevel, nextBonus) => `ìµœëŒ€ ì²´ë ¥ì´ ì˜êµ¬ì ìœ¼ë¡œ ${nextBonus.toFixed(0)} ì¦ê°€í•©ë‹ˆë‹¤. (í˜„ì¬: +${(currentLevel * bonusPerLevel).toFixed(0)})`,
    bonusPerLevel: 10,
    baseCost: 5,
    costIncreasePerLevel: 3,
    maxUpgradeLevel: 50,
    icon: 'â¤ï¸',
  },
  {
    key: 'attack',
    name: 'ì˜êµ¬ ê³µê²©ë ¥',
    description: (bonusPerLevel, currentLevel, nextBonus) => `ê³µê²©ë ¥ì´ ì˜êµ¬ì ìœ¼ë¡œ ${nextBonus.toFixed(0)} ì¦ê°€í•©ë‹ˆë‹¤. (í˜„ì¬: +${(currentLevel * bonusPerLevel).toFixed(0)})`, // Changed toFixed(0) for attack
    bonusPerLevel: 1,
    baseCost: 8,
    costIncreasePerLevel: 4,
    maxUpgradeLevel: 50,
    icon: 'âš”ï¸',
  },
  {
    key: 'defense',
    name: 'ì˜êµ¬ ë°©ì–´ë ¥',
    description: (bonusPerLevel, currentLevel, nextBonus) => `ë°©ì–´ë ¥ì´ ì˜êµ¬ì ìœ¼ë¡œ ${nextBonus.toFixed(0)} ì¦ê°€í•©ë‹ˆë‹¤. (í˜„ì¬: +${(currentLevel * bonusPerLevel).toFixed(0)})`, // Changed toFixed(0) for defense
    bonusPerLevel: 0.5,
    baseCost: 6,
    costIncreasePerLevel: 3,
    maxUpgradeLevel: 50,
    icon: 'ğŸ›¡ï¸',
  },
  {
    key: 'healthRegen',
    name: 'ì˜êµ¬ ì²´ë ¥ ì¬ìƒ',
    description: (bonusPerLevel, currentLevel, nextBonus) => `ì´ˆë‹¹ ì²´ë ¥ ì¬ìƒëŸ‰ì´ ì˜êµ¬ì ìœ¼ë¡œ ${nextBonus.toFixed(2)} ì¦ê°€í•©ë‹ˆë‹¤. (í˜„ì¬: +${(currentLevel * bonusPerLevel).toFixed(2)})`,
    bonusPerLevel: 0.1,
    baseCost: 10,
    costIncreasePerLevel: 5,
    maxUpgradeLevel: 30,
    icon: 'âœ¨',
  },
];

export const BOSS_ESSENCE_DROP = 10;
export const WAVE_CLEAR_ESSENCE_MULTIPLIER = 0.2; // Essence = waveNumber * this value on game over.


export const STATUS_EFFECT_DEFINITIONS: Record<StatusEffectType, AppStatusEffectDefinition> = {
  [StatusEffectType.POISON]: {
    name: 'ë…',
    icon: 'ğŸ§ª',
    defaultPotency: 1, 
    defaultDuration: 3, 
    description: (potency, duration) => `ë§¤ í„´ë§ˆë‹¤ ${potency}ì˜ ë… í”¼í•´ë¥¼ ${duration}í„´ ë™ì•ˆ ì…í™ë‹ˆë‹¤.`,
    isBuff: false,
  },
  [StatusEffectType.STUN]: {
    name: 'ê¸°ì ˆ',
    icon: 'ğŸ’«',
    defaultPotency: 0, 
    defaultDuration: 1, 
    description: (duration) => `${duration}í„´ ë™ì•ˆ í–‰ë™ ë¶ˆê°€ ìƒíƒœê°€ ë©ë‹ˆë‹¤.`,
    isBuff: false,
  },
  [StatusEffectType.DEFENSE_DOWN]: {
    name: 'ë°©ì–´ë ¥ ê°ì†Œ',
    icon: 'ğŸ›¡ï¸â†˜ï¸',
    defaultPotency: 0.1, 
    defaultDuration: 3, 
    description: (potency, duration) => `ë°©ì–´ë ¥ì´ ${Math.round(potency * 100)}% ë§Œí¼ ${duration}í„´ ë™ì•ˆ ê°ì†Œí•©ë‹ˆë‹¤.`,
    isBuff: false,
  },
  [StatusEffectType.ATTACK_SPEED_BUFF]: {
    name: 'ê³µê²© ì†ë„ ì¦ê°€',
    icon: 'ğŸ’¨âš”ï¸',
    defaultPotency: 0.1, 
    defaultDuration: 3, 
    description: (potency, duration) => `ê³µê²© ì†ë„ê°€ ${Math.round(potency * 100)}% ë§Œí¼ ${duration}í„´ ë™ì•ˆ ì¦ê°€í•©ë‹ˆë‹¤.`,
    isBuff: true,
  },
  [StatusEffectType.MOVEMENT_SPEED_BUFF]: {
    name: 'ì´ë™ ì†ë„ ì¦ê°€',
    icon: 'ğŸƒğŸ’¨',
    defaultPotency: 0.1, 
    defaultDuration: 3, 
    description: (potency, duration) => `ì´ë™ ì†ë„ê°€ ${Math.round(potency * 100)}% ë§Œí¼ ${duration}í„´ ë™ì•ˆ ì¦ê°€í•©ë‹ˆë‹¤.`,
    isBuff: true,
  },
  [StatusEffectType.VULNERABILITY]: {
    name: 'ì·¨ì•½',
    icon: 'ğŸ¯ğŸ’”',
    defaultPotency: 0.1, 
    defaultDuration: 5, 
    description: (potency, duration) => `ë°›ëŠ” ëª¨ë“  í”¼í•´ê°€ ${Math.round(potency * 100)}% ë§Œí¼ ${duration}í„´ ë™ì•ˆ ì¦ê°€í•©ë‹ˆë‹¤.`,
    isBuff: false,
  },
  [StatusEffectType.SLOW]: {
    name: 'ë‘”í™”',
    icon: 'ğŸŒ',
    defaultPotency: 0.2, 
    defaultDuration: 3, 
    description: (potency, duration) => `ì´ë™ ì†ë„ê°€ ${Math.round(potency * 100)}% ë§Œí¼ ${duration}í„´ ë™ì•ˆ ê°ì†Œí•©ë‹ˆë‹¤.`,
    isBuff: false,
  },
  [StatusEffectType.BLEED]: {
    name: 'ì¶œí˜ˆ',
    icon: 'ğŸ©¸',
    defaultPotency: 2, 
    defaultDuration: 3, 
    description: (potency, duration) => `ë§¤ í„´ë§ˆë‹¤ ${potency}ì˜ ì¶œí˜ˆ í”¼í•´ë¥¼ ${duration}í„´ ë™ì•ˆ ì…í™ë‹ˆë‹¤.`,
    isBuff: false,
  },
  [StatusEffectType.ATTACK_BUFF]: {
    name: 'ê³µê²©ë ¥ ì¦ê°€',
    icon: 'ğŸ’ªâœ¨',
    defaultPotency: 0.1, 
    defaultDuration: 3, 
    description: (potency, duration) => `ê³µê²©ë ¥ì´ ${Math.round(potency * 100)}% ë§Œí¼ ${duration}í„´ ë™ì•ˆ ì¦ê°€í•©ë‹ˆë‹¤.`,
    isBuff: true,
  },
  [StatusEffectType.ALL_STATS_BUFF]: {
    name: 'ëª¨ë“  ëŠ¥ë ¥ì¹˜ ì¦ê°€',
    icon: 'ğŸŒŸğŸ’ª',
    defaultPotency: 0.05, 
    defaultDuration: 5, 
    description: (potency, duration) => `ì£¼ìš” ëŠ¥ë ¥ì¹˜(ê³µê²©ë ¥, ë°©ì–´ë ¥, ìµœëŒ€ ì²´ë ¥)ê°€ ${Math.round(potency * 100)}% ë§Œí¼ ${duration}í„´ ë™ì•ˆ ì¦ê°€í•©ë‹ˆë‹¤.`,
    isBuff: true,
  },
  [StatusEffectType.GOLD_FIND_BUFF]: {
    name: 'ê³¨ë“œ ë°œê²¬ëŸ‰ ì¦ê°€',
    icon: 'ğŸ’°âœ¨',
    defaultPotency: 0.5, 
    defaultDuration: 30, 
    description: (potency, duration) => `ê³¨ë“œ ë°œê²¬ëŸ‰ì´ ${Math.round(potency * 100)}% ë§Œí¼ ${duration}í„´ ë™ì•ˆ ì¦ê°€í•©ë‹ˆë‹¤.`,
    isBuff: true,
  },
  [StatusEffectType.MASTER_TACTICIAN_BUFF]: {
    name: 'ì „ìˆ ì˜ ëŒ€ê°€ í™œì„±',
    icon: 'ğŸ—ºï¸â±ï¸',
    defaultPotency: 0, 
    defaultDuration: 5, 
    description: (duration) => `ì „íˆ¬ ì‹œì‘ í›„ ${duration}í„´ ë™ì•ˆ ì¹˜ëª…íƒ€ í™•ë¥  ë° í”¼í•´ëŸ‰ ì¦ê°€.`,
    isBuff: true,
  }
};

export const MONSTER_DEFINITIONS = [
  // ì¼ë°˜ ëª¬ìŠ¤í„° ìŠ¤íƒ¯ ì¡°ì • (HP/Atk/ë³´ìƒ ~1/4, Def ~1/2, DoT potency ~1/2)
  { id: 'goblin', name: 'ê³ ë¸”ë¦° ê·¸ëŸ°íŠ¸', baseHp: Math.max(1, Math.round(24/4)), baseAttack: Math.max(1, Math.round(4/4)), baseDefense: Math.max(1, Math.round(2/2)), goldDrop: [Math.max(1, Math.round(1/4)), Math.max(1, Math.round(5/4))] as [number,number], xpDrop: Math.max(1, Math.round(12/4)), color: 'bg-green-700', sizeClass: 'w-10 h-10' },
  { id: 'skeleton', name: 'í•´ê³¨ ì „ì‚¬', baseHp: Math.max(1, Math.round(40/4)), baseAttack: Math.max(1, Math.round(6/4)), baseDefense: Math.max(1, Math.round(3/2)), goldDrop: [Math.max(1, Math.round(3/4)), Math.max(1, Math.round(8/4))] as [number,number], xpDrop: Math.max(1, Math.round(18/4)), color: 'bg-gray-500', sizeClass: 'w-12 h-12' },
  { id: 'orc', name: 'ì˜¤í¬ ë¸Œë£¨íŠ¸', baseHp: Math.max(1, Math.round(80/4)), baseAttack: Math.max(1, Math.round(10/4)), baseDefense: Math.max(1, Math.round(5/2)), goldDrop: [Math.max(1, Math.round(5/4)), Math.max(1, Math.round(15/4))] as [number,number], xpDrop: Math.max(1, Math.round(36/4)), color: 'bg-red-700', sizeClass: 'w-16 h-16' },
  { 
    id: 'dark_mage', 
    name: 'ì–´ë‘ ì˜ ë§ˆë²•ì‚¬', 
    baseHp: Math.max(1, Math.round(56/4)), 
    baseAttack: Math.max(1, Math.round(12/4)), 
    baseDefense: Math.max(1, Math.round(2/2)), 
    goldDrop: [Math.max(1, Math.round(10/4)), Math.max(1, Math.round(25/4))] as [number,number], 
    xpDrop: Math.max(1, Math.round(48/4)), 
    color: 'bg-purple-700', 
    sizeClass: 'w-12 h-16',
    appliesEffect: { type: StatusEffectType.STUN, chance: 0.25, potency: 0, duration: 1 } // Stun potency/duration not changed for now
  },
  { id: 'demon_imp', name: 'ì•…ë§ˆ ì„í”„', baseHp: Math.max(1, Math.round(32/4)), baseAttack: Math.max(1, Math.round(8/4)), baseDefense: Math.max(0, Math.round(1/2)), goldDrop: [Math.max(1, Math.round(2/4)), Math.max(1, Math.round(7/4))] as [number,number], xpDrop: Math.max(1, Math.round(15/4)), color: 'bg-red-900', sizeClass: 'w-8 h-8' },
  
  // ë³´ìŠ¤ ëª¬ìŠ¤í„° (ìŠ¤íƒ¯ ë³€ê²½ ì—†ìŒ)
  { 
    id: 'goblin_tyrant', 
    name: 'ê³ ë¸”ë¦° í­êµ°', 
    isBoss: true,
    baseHp: 240, 
    baseAttack: 20, 
    baseDefense: 10, 
    goldDrop: [50, 100] as [number,number], 
    xpDrop: 180, 
    color: 'bg-emerald-700', 
    sizeClass: 'w-20 h-20'
  },

  // ì‹ ê·œ ì¼ë°˜ ëª¬ìŠ¤í„° ìŠ¤íƒ¯ ì¡°ì •
  { 
    id: 'venom_basilisk', name: 'ë§¹ë… ë°”ì‹¤ë¦¬ìŠ¤í¬', baseHp: Math.max(1, Math.round(60/4)), baseAttack: Math.max(1, Math.round(7/4)), baseDefense: Math.max(1, Math.round(4/2)), goldDrop: [Math.max(1, Math.round(8/4)), Math.max(1, Math.round(18/4))] as [number,number], xpDrop: Math.max(1, Math.round(25/4)), 
    color: 'bg-lime-600', sizeClass: 'w-14 h-10', 
    appliesEffect: { type: StatusEffectType.POISON, chance: 0.3, potency: Math.max(1, Math.round(3/2)), duration: 4 }
  },
  { 
    id: 'frost_archer', name: 'ì„œë¦¬ í•´ê³¨ ê¶ìˆ˜', baseHp: Math.max(1, Math.round(35/4)), baseAttack: Math.max(1, Math.round(9/4)), baseDefense: Math.max(0, Math.round(1/2)), goldDrop: [Math.max(1, Math.round(7/4)), Math.max(1, Math.round(15/4))] as [number,number], xpDrop: Math.max(1, Math.round(22/4)), 
    color: 'bg-cyan-600', sizeClass: 'w-12 h-12', 
    appliesEffect: { type: StatusEffectType.SLOW, chance: 0.2, potency: 0.3, duration: 2 } // Slow potency not changed for now
  },
  { id: 'granite_golem', name: 'í™”ê°•ì•” ê³¨ë ˜', baseHp: Math.max(1, Math.round(120/4)), baseAttack: Math.max(1, Math.round(8/4)), baseDefense: Math.max(1, Math.round(8/2)), goldDrop: [Math.max(1, Math.round(15/4)), Math.max(1, Math.round(30/4))] as [number,number], xpDrop: Math.max(1, Math.round(50/4)), color: 'bg-stone-500', sizeClass: 'w-18 h-18' },
  { id: 'shadow_stalker', name: 'ê·¸ë¦¼ì ì¶”ì ì', baseHp: Math.max(1, Math.round(45/4)), baseAttack: Math.max(1, Math.round(11/4)), baseDefense: Math.max(1, Math.round(2/2)), goldDrop: [Math.max(1, Math.round(12/4)), Math.max(1, Math.round(28/4))] as [number,number], xpDrop: Math.max(1, Math.round(40/4)), color: 'bg-indigo-700', sizeClass: 'w-10 h-14' },
  { 
    id: 'plague_rat_swarm', name: 'ì—­ë³‘ ì¥ë–¼', baseHp: Math.max(1, Math.round(20/4)), baseAttack: Math.max(1, Math.round(5/4)), baseDefense: Math.max(0, Math.round(0/2)), goldDrop: [Math.max(1, Math.round(1/4)), Math.max(1, Math.round(4/4))] as [number,number], xpDrop: Math.max(1, Math.round(10/4)), 
    color: 'bg-amber-700', sizeClass: 'w-10 h-6',
    appliesEffect: { type: StatusEffectType.DEFENSE_DOWN, chance: 0.15, potency: 0.05, duration: 3 } // Debuff potency not changed for now
  },
  { id: 'swamp_horror', name: 'ëŠªì§€ ê´´ë¬¼', baseHp: Math.max(1, Math.round(75/4)), baseAttack: Math.max(1, Math.round(9/4)), baseDefense: Math.max(1, Math.round(5/2)), goldDrop: [Math.max(1, Math.round(10/4)), Math.max(1, Math.round(22/4))] as [number,number], xpDrop: Math.max(1, Math.round(33/4)), color: 'bg-teal-700', sizeClass: 'w-15 h-15' },
  { 
    id: 'hellhound', name: 'ì§€ì˜¥ ì‚¬ëƒ¥ê°œ', baseHp: Math.max(1, Math.round(50/4)), baseAttack: Math.max(1, Math.round(13/4)), baseDefense: Math.max(1, Math.round(3/2)), goldDrop: [Math.max(1, Math.round(14/4)), Math.max(1, Math.round(26/4))] as [number,number], xpDrop: Math.max(1, Math.round(42/4)), 
    color: 'bg-orange-600', sizeClass: 'w-14 h-10',
    appliesEffect: { type: StatusEffectType.BLEED, chance: 0.25, potency: Math.max(1, Math.round(4/2)), duration: 3 }
  },
  { id: 'ancient_guardian', name: 'ê³ ëŒ€ ìˆ˜í˜¸ì', baseHp: Math.max(1, Math.round(150/4)), baseAttack: Math.max(1, Math.round(12/4)), baseDefense: Math.max(1, Math.round(12/2)), goldDrop: [Math.max(1, Math.round(30/4)), Math.max(1, Math.round(60/4))] as [number,number], xpDrop: Math.max(1, Math.round(70/4)), color: 'bg-sky-700', sizeClass: 'w-20 h-20' },
  { 
    id: 'cave_spider', name: 'ë™êµ´ ê±°ë¯¸', baseHp: Math.max(1, Math.round(30/4)), baseAttack: Math.max(1, Math.round(7/4)), baseDefense: Math.max(0, Math.round(1/2)), goldDrop: [Math.max(1, Math.round(4/4)), Math.max(1, Math.round(10/4))] as [number,number], xpDrop: Math.max(1, Math.round(17/4)), 
    color: 'bg-neutral-600', sizeClass: 'w-10 h-10',
    appliesEffect: { type: StatusEffectType.SLOW, chance: 0.2, potency: 0.2, duration: 3 } // Slow potency not changed
  },
  { id: 'berserker_dwarf', name: 'ê´‘í¬í•œ ë“œì›Œí”„', baseHp: Math.max(1, Math.round(90/4)), baseAttack: Math.max(1, Math.round(14/4)), baseDefense: Math.max(1, Math.round(6/2)), goldDrop: [Math.max(1, Math.round(18/4)), Math.max(1, Math.round(35/4))] as [number,number], xpDrop: Math.max(1, Math.round(55/4)), color: 'bg-rose-700', sizeClass: 'w-12 h-14' },
  { id: 'phantom_soldier', name: 'ìœ ë ¹ ë³‘ì‚¬', baseHp: Math.max(1, Math.round(40/4)), baseAttack: Math.max(1, Math.round(8/4)), baseDefense: Math.max(1, Math.round(10/2)), goldDrop: [Math.max(1, Math.round(9/4)), Math.max(1, Math.round(20/4))] as [number,number], xpDrop: Math.max(1, Math.round(30/4)), color: 'bg-slate-400', sizeClass: 'w-12 h-12' },
  { id: 'flame_lizard', name: 'í™”ì—¼ ë„ë§ˆë±€', baseHp: Math.max(1, Math.round(55/4)), baseAttack: Math.max(1, Math.round(10/4)), baseDefense: Math.max(1, Math.round(3/2)), goldDrop: [Math.max(1, Math.round(11/4)), Math.max(1, Math.round(23/4))] as [number,number], xpDrop: Math.max(1, Math.round(38/4)), color: 'bg-red-500', sizeClass: 'w-13 h-9' },
  { id: 'crystal_wisp', name: 'ìˆ˜ì • ì†Œí™˜ìˆ˜', baseHp: Math.max(1, Math.round(25/4)), baseAttack: Math.max(1, Math.round(15/4)), baseDefense: Math.max(0, Math.round(0/2)), goldDrop: [Math.max(1, Math.round(15/4)), Math.max(1, Math.round(30/4))] as [number,number], xpDrop: Math.max(1, Math.round(45/4)), color: 'bg-fuchsia-500', sizeClass: 'w-8 h-8' },
  { id: 'forest_sprite', name: 'ìˆ²ì˜ ì •ë ¹', baseHp: Math.max(1, Math.round(30/4)), baseAttack: Math.max(1, Math.round(6/4)), baseDefense: Math.max(1, Math.round(2/2)), goldDrop: [Math.max(1, Math.round(6/4)), Math.max(1, Math.round(12/4))] as [number,number], xpDrop: Math.max(1, Math.round(20/4)), color: 'bg-green-500', sizeClass: 'w-9 h-9' },
];

export const SKILL_DEFINITIONS: SkillDefinition[] = [
  // ========== ì „íˆ¬ íŠ¸ë¦¬ (Combat Tree) ==========
  {
    id: 'strength_boost', 
    name: 'ë‹¨ë ¨ëœ ì „íˆ¬ê´‘',
    description: (level: number) => `ê³µê²©ë ¥ì´ ${level * 5}% ì¦ê°€í•©ë‹ˆë‹¤.`,
    maxLevel: 5,
    cost: (currentLevel: number) => (currentLevel + 1) * 1,
    effects: (level: number) => [{ stat: 'attack', value: level * 0.05, type: 'percent' } as StatModifier],
    icon: 'ğŸ’ª',
    prerequisites: [],
  },
  {
    id: 'power_strike', 
    name: 'ê°•íƒ€',
    description: (level: number) => `ê³µê²© ì‹œ ${level * 6 + 4}% í™•ë¥ ë¡œ ë‹¤ìŒ ê³µê²©ì— ${level * 10}ì˜ ì¶”ê°€ ë¬¼ë¦¬ í”¼í•´ë¥¼ ì…í™ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 5,
    cost: (currentLevel: number) => (currentLevel + 1) * 1,
    effects: () => [], 
    icon: 'âš”ï¸',
    prerequisites: ['strength_boost'],
  },
  {
    id: 'executioner_strike', 
    name: 'ì²˜í˜•ìì˜ ì¼ê²©',
    description: (level: number) => `ì²´ë ¥ì´ 30% ì´í•˜ì¸ ëŒ€ìƒì—ê²Œ ${level * 10 + 5}%ì˜ ì¶”ê°€ í”¼í•´ë¥¼ ì…í™ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'â˜ ï¸',
    prerequisites: ['power_strike'],
  },
  {
    id: 'battle_trance',
    name: 'ì „íˆ¬ ë¬´ì•„ì§€ê²½',
    description: (level: number) => `ëª¬ìŠ¤í„° ì²˜ì¹˜ ì‹œ ${level * 2}ì´ˆ ë™ì•ˆ ê³µê²© ì†ë„ê°€ ${level * 5}%, ì´ë™ ì†ë„ê°€ ${level * 3}% ì¦ê°€í•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸŒ€',
    prerequisites: ['executioner_strike'],
  },
  {
    id: 'sunder_armor',
    name: 'ë°©ì–´êµ¬ ê°€ë¥´ê¸°',
    description: (level: number) => `ê³µê²© ì‹œ ${level * 8 + 7}% í™•ë¥ ë¡œ ${level + 2}ì´ˆ ë™ì•ˆ ëŒ€ìƒì˜ ë°©ì–´ë ¥ì„ ${level * 5 + 10}% ê°ì†Œì‹œí‚µë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸ›¡ï¸â€ğŸ’¥',
    prerequisites: ['power_strike'],
  },
  {
    id: 'shattering_blows',
    name: 'íŒŒì‡„ê²©',
    description: (level: number) => `ë°©ì–´ë ¥ì´ ê°ì†Œëœ ëŒ€ìƒì—ê²Œ ${level * 15 + 5}%ì˜ ì¶”ê°€ í”¼í•´ë¥¼ ì…í™ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸ”¨',
    prerequisites: ['sunder_armor'],
  },
  {
    id: 'weapon_focus',
    name: 'ë¬´ê¸° ìˆ™ë ¨',
    description: (level: number) => `ê³µê²©ë ¥ì´ ${level * 2}ë§Œí¼ ì¦ê°€í•©ë‹ˆë‹¤.`,
    maxLevel: 5,
    cost: (currentLevel: number) => (currentLevel + 1) * 1,
    effects: (level: number) => [{ stat: 'attack', value: level * 2, type: 'flat' } as StatModifier],
    icon: 'ğŸ—¡ï¸',
    prerequisites: ['strength_boost'],
  },
  {
    id: 'enhanced_strikes',
    name: 'ê°•í™”ëœ ì¼ê²©',
    description: (level: number) => `ê³µê²©ë ¥ì´ ì¶”ê°€ë¡œ ${level * 3}% ì¦ê°€í•©ë‹ˆë‹¤.`,
    maxLevel: 5,
    cost: (currentLevel: number) => (currentLevel + 1) * 1,
    effects: (level: number) => [{ stat: 'attack', value: level * 0.03, type: 'percent' } as StatModifier],
    icon: 'âœ¨âš”ï¸',
    prerequisites: ['weapon_focus'],
  },
  {
    id: 'combat_flow',
    name: 'ì „íˆ¬ì˜ íë¦„',
    description: (level: number) => `3íšŒ ì—°ì† ê³µê²© ì‹œ ${level * 2}ì´ˆ ë™ì•ˆ ê³µê²© ì†ë„ê°€ ${level * 10}% ì¦ê°€í•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸ’¨',
    prerequisites: ['enhanced_strikes'],
  },
  {
    id: 'heavy_blows',
    name: 'ë¬µì§í•œ ê°•íƒ€',
    description: (level: number) => `ê³µê²©ë ¥ì´ ${level * 8}% ì¦ê°€í•˜ì§€ë§Œ, ê³µê²© ì†ë„ê°€ ${level * 3}% ê°ì†Œí•©ë‹ˆë‹¤.`, 
    maxLevel: 5,
    cost: (currentLevel: number) => (currentLevel + 1) * 1,
    effects: (level: number) => [
        { stat: 'attack', value: level * 0.08, type: 'percent' },
        { stat: 'attackSpeed', value: -(level * 0.03), type: 'percent' } 
    ] as StatModifier[], 
    icon: 'ğŸ‹ï¸',
    prerequisites: [],
  },
  {
    id: 'crushing_impact',
    name: 'ë¶„ì‡„ ì¶©ê²©',
    description: (level: number) => `ê³µê²© ì‹œ ${level * 5 + 5}% í™•ë¥ ë¡œ ëŒ€ìƒì„ ${level * 0.5 + 0.5}ì´ˆ ë™ì•ˆ ê¸°ì ˆì‹œí‚µë‹ˆë‹¤. (ë³´ìŠ¤ì—ê²ŒëŠ” íš¨ê³¼ ê°ì†Œ, ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸ§±',
    prerequisites: ['heavy_blows'],
  },
  {
    id: 'unstoppable_force',
    name: 'ë©ˆì¶œ ìˆ˜ ì—†ëŠ” í˜',
    description: (level: number) => `ê¸°ì ˆì‹œí‚¨ ëŒ€ìƒì—ê²Œ ë‹¤ìŒ ${level}ë²ˆì˜ ê³µê²©ì´ ì¹˜ëª…íƒ€ë¡œ ì ì¤‘í•  í™•ë¥ ì´ ${level * 10 + 5}% ì¦ê°€í•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸš‚',
    prerequisites: ['crushing_impact'],
  },
  {
    id: 'quake_stomp',
    name: 'ì§€ì§„ ë°œêµ¬ë¥´ê¸°',
    description: (level: number) => `ì£¼ ëŒ€ìƒ ê³µê²© ì‹œ ì£¼ë³€ ì ë“¤ì—ê²Œ ê³µê²©ë ¥ì˜ ${level * 10 + 5}% í”¼í•´ë¥¼ ì£¼ê³  ${level + 1}ì´ˆ ë™ì•ˆ ì´ë™ ì†ë„ë¥¼ 20% ê°ì†Œì‹œí‚µë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 3,
    effects: () => [], 
    icon: 'ğŸ¦¶ğŸ’¥',
    prerequisites: ['unstoppable_force'],
  },

  // ========== ìƒì¡´ íŠ¸ë¦¬ (Survival Tree) ==========
  {
    id: 'vitality_boost', 
    name: 'ê°•ì¸í•¨',
    description: (level: number) => `ìµœëŒ€ ì²´ë ¥ì´ ${level * 10}% ì¦ê°€í•©ë‹ˆë‹¤.`,
    maxLevel: 5,
    cost: (currentLevel: number) => (currentLevel + 1) * 1,
    effects: (level: number) => [{ stat: 'maxHp', value: level * 0.10, type: 'percent' } as StatModifier],
    icon: 'â¤ï¸',
    prerequisites: [],
  },
  {
    id: 'health_regen_boost', 
    name: 'ë¹ ë¥¸ íšŒë³µ',
    description: (level: number) => `ì´ˆë‹¹ ì²´ë ¥ ì¬ìƒëŸ‰ì´ ${level * 0.5} ì¦ê°€í•©ë‹ˆë‹¤.`,
    maxLevel: 5,
    cost: (currentLevel: number) => (currentLevel + 1) * 1,
    effects: (level: number) => [{ stat: 'healthRegen', value: level * 0.5, type: 'flat' } as StatModifier],
    icon: 'âœ¨',
    prerequisites: ['vitality_boost'],
  },
  {
    id: 'bulwark', 
    name: 'ë³´ë£¨',
    description: (level: number) => `ë°©ì–´ë ¥ì´ ${level * 3}ë§Œí¼ ì˜êµ¬ì ìœ¼ë¡œ ì¦ê°€í•©ë‹ˆë‹¤.`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: (level: number) => [{ stat: 'defense', value: level * 3, type: 'flat' } as StatModifier],
    icon: 'ğŸ›¡ï¸',
    prerequisites: ['health_regen_boost'],
  },
  {
    id: 'resilience',
    name: 'íšŒë³µíƒ„ë ¥ì„±',
    description: (level: number) => `ë°›ëŠ” ëª¨ë“  í”¼í•´ê°€ ${level * 1 + 1}ë§Œí¼ ê°ì†Œí•©ë‹ˆë‹¤. (ìµœì†Œ í”¼í•´ëŸ‰ 1 ì ìš© í›„, ì—”ì§„ ë¡œì§)`,
    maxLevel: 5,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸ’ªâ¤ï¸',
    prerequisites: ['bulwark'],
  },
  {
    id: 'nimble_defense',
    name: 'ë‚ ë µí•œ ë°©ì–´',
    description: (level: number) => `${level * 3 + 2}% í™•ë¥ ë¡œ ê³µê²©ì„ íšŒí”¼í•˜ì—¬ ë°›ëŠ” í”¼í•´ë¥¼ 50% ì¤„ì…ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 5,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸ¤¸',
    prerequisites: ['health_regen_boost'],
  },
  {
    id: 'evasive_maneuvers',
    name: 'íšŒí”¼ ê¸°ë™',
    description: (level: number) => `íšŒí”¼ ì„±ê³µ ì‹œ ${level + 1}ì´ˆ ë™ì•ˆ ì´ë™ ì†ë„ê°€ ${level * 10 + 10}% ì¦ê°€í•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 1,
    effects: () => [], 
    icon: 'ğŸƒğŸ’¨',
    prerequisites: ['nimble_defense'],
  },
  {
    id: 'iron_will',
    name: 'ê°•ì²  ì˜ì§€',
    description: (level: number) => `ìì‹ ì—ê²Œ ì ìš©ë˜ëŠ” ëª¨ë“  í•´ë¡œìš´ ìƒíƒœ íš¨ê³¼ì˜ ì§€ì† ì‹œê°„ì´ ${level * 6 + 4}% ê°ì†Œí•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 4,
    cost: (currentLevel: number) => (currentLevel + 1) * 1,
    effects: () => [], 
    icon: 'ğŸ§ ğŸ’ª',
    prerequisites: ['vitality_boost'],
  },
  {
    id: 'purification',
    name: 'ì •í™”',
    description: (level: number) => `í•´ë¡œìš´ ìƒíƒœ íš¨ê³¼ì— ê±¸ë¦´ í™•ë¥ ì´ ${level * 5 + 5}% ê°ì†Œí•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸ’§',
    prerequisites: ['iron_will'],
  },
  {
    id: 'unyielding_spirit',
    name: 'ë¶ˆêµ´ì˜ ì •ì‹ ',
    description: (level: number) => `ì²´ë ¥ì´ 30% ì´í•˜ì¼ ë•Œ ë°›ëŠ” ëª¨ë“  ì¹˜ìœ  íš¨ê³¼ê°€ ${level * 10 + 10}% ì¦í­ë©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸ’–âœ¨',
    prerequisites: ['purification'],
  },
  {
    id: 'thick_hide',
    name: 'ë‘êº¼ìš´ ê°€ì£½',
    description: (level: number) => `ë°©ì–´ë ¥ì´ ${level * 4}% ì¦ê°€í•©ë‹ˆë‹¤.`,
    maxLevel: 5,
    cost: (currentLevel: number) => (currentLevel + 1) * 1,
    effects: (level: number) => [{ stat: 'defense', value: level * 0.04, type: 'percent' } as StatModifier],
    icon: 'ğŸ—',
    prerequisites: [],
  },
  {
    id: 'thorns_aura',
    name: 'ê°€ì‹œ ê°‘ì˜·',
    description: (level: number) => `ê³µê²©ì„ ë°›ì„ ë•Œë§ˆë‹¤ ê³µê²©ìì—ê²Œ (ìì‹ ì˜ ë°©ì–´ë ¥ì˜ ${level * 5 + 5}%)ë§Œí¼ì˜ ë¬¼ë¦¬ í”¼í•´ë¥¼ ë°˜ì‚¬í•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 5,
    cost: (currentLevel: number) => (currentLevel + 1) * 1,
    effects: () => [], 
    icon: 'ğŸŒµ',
    prerequisites: ['thick_hide'],
  },
  {
    id: 'spiked_armor',
    name: 'ë‚ ì¹´ë¡œìš´ ê°‘ì˜·',
    description: (level: number) => `ê°€ì‹œ ê°‘ì˜·ì˜ ë°˜ì‚¬ í”¼í•´ëŸ‰ì´ ${level * 10 + 5}% ì¦ê°€í•˜ê³ , ${level * 5 + 5}% í™•ë¥ ë¡œ ê³µê²©ìì—ê²Œ 3ì´ˆê°„ ì¶œí˜ˆì„ ê²ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸ¦”',
    prerequisites: ['thorns_aura'],
  },
  {
    id: 'retribution',
    name: 'ì‘ì§•',
    description: (level: number) => `ìì‹ ì´ ì¹˜ëª…íƒ€ ê³µê²©ì„ ë°›ìœ¼ë©´, ë‹¤ìŒ ${level}ë²ˆì˜ ê³µê²©ì˜ í”¼í•´ëŸ‰ì´ ${level * 10 + 10}% ì¦ê°€í•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'âš–ï¸',
    prerequisites: ['spiked_armor'],
  },

  // ========== ì •ë°€ íŠ¸ë¦¬ (Precision Tree) ==========
  {
    id: 'crit_chance_boost', 
    name: 'ë‚ ì¹´ë¡œìš´ ëˆˆ',
    description: (level: number) => `ì¹˜ëª…íƒ€ í™•ë¥ ì´ ${level * 2}% ì¦ê°€í•©ë‹ˆë‹¤.`,
    maxLevel: 5,
    cost: (currentLevel: number) => (currentLevel + 1) * 1,
    effects: (level: number) => [{ stat: 'critChance', value: level * 0.02, type: 'flat' } as StatModifier], 
    icon: 'ğŸ¯',
    prerequisites: [],
  },
  {
    id: 'crit_damage_boost', 
    name: 'ì¹˜ëª…ì ì¸ ì¼ê²©',
    description: (level: number) => `ì¹˜ëª…íƒ€ í”¼í•´ëŸ‰ì´ ${level * 10}% ì¦ê°€í•©ë‹ˆë‹¤.`,
    maxLevel: 5,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: (level: number) => [{ stat: 'critDamage', value: level * 0.10, type: 'flat' } as StatModifier],
    icon: 'ğŸ’¥',
    prerequisites: ['crit_chance_boost'],
  },
  {
    id: 'precision_mastery', 
    name: 'ì •ë°€í•¨ì˜ ëŒ€ê°€',
    description: (level: number) => `ì¹˜ëª…íƒ€ í™•ë¥ ì´ ${level * 1}% ì¶”ê°€ë¡œ ì¦ê°€í•˜ê³ , ì¹˜ëª…íƒ€ í”¼í•´ëŸ‰ì´ ${level * 5}% ì¶”ê°€ë¡œ ì¦ê°€í•©ë‹ˆë‹¤.`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: (level: number) => [
        { stat: 'critChance', value: level * 0.01, type: 'flat' },
        { stat: 'critDamage', value: level * 0.05, type: 'flat' }
    ] as StatModifier[],
    icon: 'ğŸ‘ï¸',
    prerequisites: ['crit_damage_boost'],
  },
  {
    id: 'lethal_tempo',
    name: 'ì¹˜ëª…ì  ì†ë„',
    description: (level: number) => `ì¹˜ëª…íƒ€ ë°œìƒ ì‹œ ${level + 1}ì´ˆ ë™ì•ˆ ê³µê²© ì†ë„ê°€ ${level * 5 + 5}% ì¦ê°€í•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'â±ï¸',
    prerequisites: ['precision_mastery'],
  },
  {
    id: 'piercing_crits',
    name: 'ê¿°ëš«ëŠ” ì¹˜ëª…íƒ€',
    description: (level: number) => `ì¹˜ëª…íƒ€ ê³µê²©ì´ ëŒ€ìƒ ë°©ì–´ë ¥ì˜ ${level * 6 + 4}%ë¥¼ ë¬´ì‹œí•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 4,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸ“Œ',
    prerequisites: ['crit_damage_boost'],
  },
  {
    id: 'expose_weakness',
    name: 'ì•½ì  ë…¸ì¶œ',
    description: (level: number) => `ì¹˜ëª…íƒ€ ê³µê²© ì‹œ ${level * 10 + 5}% í™•ë¥ ë¡œ ëŒ€ìƒì´ 5ì´ˆê°„ ë°›ëŠ” ëª¨ë“  í”¼í•´ë¥¼ ${level * 3 + 2}% ì¦ê°€ì‹œí‚¤ëŠ” ì•½ì ì„ ë…¸ì¶œí•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸ”',
    prerequisites: ['piercing_crits'],
  },
  {
    id: 'finishing_touch',
    name: 'ë§ˆë¬´ë¦¬ ì¼ê²©',
    description: (level: number) => `ì²´ë ¥ì´ 25% ì´í•˜ì¸ ëŒ€ìƒì—ê²Œ ì¹˜ëª…íƒ€ í™•ë¥ ì´ ${level * 5 + 5}% ì¶”ê°€ë¡œ ì¦ê°€í•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 1,
    effects: () => [], 
    icon: 'ğŸ”ª',
    prerequisites: ['crit_chance_boost'],
  },
  {
    id: 'hunter_instinct',
    name: 'ì‚¬ëƒ¥ê¾¼ì˜ ë³¸ëŠ¥',
    description: (level: number) => `ë³´ìŠ¤ ëª¬ìŠ¤í„°ì—ê²Œ ì£¼ëŠ” ëª¨ë“  í”¼í•´ê°€ ${level * 5 + 2}% ì¦ê°€í•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸº',
    prerequisites: ['finishing_touch'],
  },
  {
    id: 'master_tactician',
    name: 'ì „ìˆ ì˜ ëŒ€ê°€',
    description: (level: number) => `ì „íˆ¬ ì‹œì‘ í›„ ì²« ${level * 3 + 2}ì´ˆ ë™ì•ˆ ì¹˜ëª…íƒ€ í™•ë¥ ì´ 20%, ì¹˜ëª…íƒ€ í”¼í•´ëŸ‰ì´ 30% ì¦ê°€í•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸ—ºï¸',
    prerequisites: ['hunter_instinct'],
  },
  {
    id: 'keen_senses',
    name: 'ì˜ˆë¦¬í•œ ê°ê°',
    description: (level: number) => `ê³¨ë“œ ë°œê²¬ëŸ‰ì´ ${level * 7 + 3}% ì¦ê°€í•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 5,
    cost: (currentLevel: number) => (currentLevel + 1) * 1,
    effects: () => [], 
    icon: 'ğŸ’°ğŸ‘€',
    prerequisites: [],
  },
  {
    id: 'treasure_hunter',
    name: 'ë³´ë¬¼ ì‚¬ëƒ¥ê¾¼',
    description: (level: number) => `ê³¨ë“œ ë°œê²¬ëŸ‰ì´ ì¶”ê°€ë¡œ ${level * 10}% ì¦ê°€í•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 5,
    cost: (currentLevel: number) => (currentLevel + 1) * 1,
    effects: () => [], 
    icon: 'ğŸª™âœ¨',
    prerequisites: ['keen_senses'],
  },
  {
    id: 'fortune_favors',
    name: 'í–‰ìš´ì˜ ê°€í˜¸',
    description: (level: number) => `ëª¬ìŠ¤í„° ì²˜ì¹˜ ì‹œ ${level * 1 + 1}% í™•ë¥ ë¡œ ì†ŒëŸ‰ì˜ ì¶”ê°€ ê³¨ë“œë¥¼ ì¦‰ì‹œ íšë“í•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸ€',
    prerequisites: ['treasure_hunter'],
  },
  {
    id: 'lucky_streak',
    name: 'í–‰ìš´ ì—°ì‡„',
    description: (level: number) => `5ì´ˆ ì•ˆì— ì—°ì†ìœ¼ë¡œ ëª¬ìŠ¤í„° 3ë§ˆë¦¬ ì²˜ì¹˜ ì‹œ ${level * 30 + 30}ì´ˆ ë™ì•ˆ ê³¨ë“œ ë°œê²¬ëŸ‰ì´ 50% ì¦ê°€í•©ë‹ˆë‹¤. (ìµœëŒ€ 1íšŒ ì¤‘ì²©, ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸ°',
    prerequisites: ['fortune_favors'],
  },
  {
    id: 'insightful_strikes',
    name: 'í†µì°°ë ¥ ìˆëŠ” ê³µê²©',
    description: (level: number) => `ê³µê²© ì‹œ ${level * 3 + 2}% í™•ë¥ ë¡œ ${level * 2 + 1}ì´ˆ ë™ì•ˆ ìì‹ ì˜ ê³µê²©ë ¥ì´ ${level * 5 + 3}% ì¦ê°€í•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 5,
    cost: (currentLevel: number) => (currentLevel + 1) * 1,
    effects: () => [], 
    icon: 'ğŸ’¡',
    prerequisites: ['keen_senses'], 
  },
  {
    id: 'tactical_advantage',
    name: 'ì „ìˆ ì  ìš°ìœ„',
    description: (level: number) => `í†µì°°ë ¥ ìˆëŠ” ê³µê²© ë°œë™ ì‹œ ì¶”ê°€ë¡œ ${level * 2}ì´ˆ ë™ì•ˆ ëª¨ë“  ì£¼ìš” ëŠ¥ë ¥ì¹˜(ê³µê²©ë ¥, ë°©ì–´ë ¥, ìµœëŒ€ ì²´ë ¥)ê°€ ${level * 2 + 1}% ì¦ê°€í•©ë‹ˆë‹¤. (ì—”ì§„ ë¡œì§)`,
    maxLevel: 3,
    cost: (currentLevel: number) => (currentLevel + 1) * 2,
    effects: () => [], 
    icon: 'ğŸ“ˆ',
    prerequisites: ['insightful_strikes'],
  }
];

type ItemBaseDefinition = Array<{
  name: string;
  baseModifiers: Array<{
    stat: keyof PlayerStats | 'critChance' | 'critDamage' | 'healthRegen' | 'attackSpeed' | 'movementSpeed';
    value: number;
    type: 'flat' | 'percent';
  }>;
  icon: string;
  enhancementLevel: 0; // All base items start at +0
}>;

export const ITEM_BASES: Record<ItemType, ItemBaseDefinition> = {
  [ItemType.WEAPON]: [
    // Swords
    { name: "ë…¹ìŠ¨ ê²€", baseModifiers: [{ stat: 'attack', value: 3, type: 'flat' }], icon: "âš”ï¸", enhancementLevel: 0 },
    { name: "ë‚¡ì€ ë‹¨ê²€", baseModifiers: [{ stat: 'attack', value: 2, type: 'flat' }, { stat: 'attackSpeed', value: 0.02, type: 'flat' }], icon: "ğŸ—¡ï¸", enhancementLevel: 0 },
    { name: "ë³´ë³‘ìš© ê²€", baseModifiers: [{ stat: 'attack', value: 4, type: 'flat' }], icon: "âš”ï¸", enhancementLevel: 0 },
    { name: "ì „íˆ¬ìš© ë„ë¼", baseModifiers: [{ stat: 'attack', value: 5, type: 'flat' }], icon: "ğŸª“", enhancementLevel: 0 },
    { name: "ì‚¬ëƒ¥ê¾¼ í™œ", baseModifiers: [{ stat: 'attack', value: 3, type: 'flat' }, { stat: 'critChance', value: 0.01, type: 'flat' }], icon: "ğŸ¹", enhancementLevel: 0 },
    { name: "ê²¬ìŠµìƒ ì§€íŒ¡ì´", baseModifiers: [{ stat: 'attack', value: 2, type: 'flat' }, { stat: 'maxHp', value: 5, type: 'flat' }], icon: "ğŸª„", enhancementLevel: 0 },
    { name: "ë¬´ê±°ìš´ ëª½ë‘¥ì´", baseModifiers: [{ stat: 'attack', value: 6, type: 'flat' }, { stat: 'attackSpeed', value: -0.05, type: 'flat' }], icon: "ëª½ë‘¥ì´", enhancementLevel: 0 },
    { name: "íˆ¬ì²™ìš© ì°½", baseModifiers: [{ stat: 'attack', value: 4, type: 'flat' }, { stat: 'critDamage', value: 0.05, type: 'flat' }], icon: "çŸ›", enhancementLevel: 0 },
    { name: "ë‚ ì¹´ë¡œìš´ ë ˆì´í”¼ì–´", baseModifiers: [{ stat: 'attack', value: 3, type: 'flat' }, { stat: 'attackSpeed', value: 0.03, type: 'flat' }], icon: "ğŸ¤º", enhancementLevel: 0 },
    { name: "ì–‘ì† ëŒ€ê²€", baseModifiers: [{ stat: 'attack', value: 7, type: 'flat' }, { stat: 'attackSpeed', value: -0.08, type: 'flat' }], icon: "ğŸ—¿ğŸ—¡ï¸", enhancementLevel: 0 },
    { name: "ì „ìŸ ë§ì¹˜", baseModifiers: [{ stat: 'attack', value: 6, type: 'flat' }, { stat: 'critDamage', value: 0.1, type: 'flat' }], icon: "ğŸ”¨", enhancementLevel: 0 },
    { name: "ë§ˆë²• ë‹¨ê²€", baseModifiers: [{ stat: 'attack', value: 2, type: 'flat' }, { stat: 'healthRegen', value: 0.1, type: 'flat' }], icon: "ğŸ”®ğŸ—¡ï¸", enhancementLevel: 0 },
    { name: "ê°•ì²  ê²€", baseModifiers: [{ stat: 'attack', value: 5, type: 'flat' }], icon: "âš”ï¸", enhancementLevel: 0 },
    { name: "ì˜¤í¬ì¡± ë„ë¼", baseModifiers: [{ stat: 'attack', value: 6, type: 'flat' }], icon: "ğŸª“", enhancementLevel: 0 },
    { name: "ì—˜í”„ í™œ", baseModifiers: [{ stat: 'attack', value: 4, type: 'flat' }, { stat: 'critChance', value: 0.02, type: 'flat' }], icon: "ğŸ¹", enhancementLevel: 0 },
    { name: "í˜„ìì˜ ì§€íŒ¡ì´", baseModifiers: [{ stat: 'attack', value: 3, type: 'flat' }, { stat: 'maxHp', value: 10, type: 'flat' }], icon: "ğŸª„", enhancementLevel: 0 },
    { name: "ê°•ì²  ëª½ë‘¥ì´", baseModifiers: [{ stat: 'attack', value: 7, type: 'flat' }, { stat: 'attackSpeed', value: -0.06, type: 'flat' }], icon: "ëª½ë‘¥ì´", enhancementLevel: 0 },
    { name: "ê¸°ì‚¬ì˜ ì°½", baseModifiers: [{ stat: 'attack', value: 5, type: 'flat' }, { stat: 'critDamage', value: 0.08, type: 'flat' }], icon: "çŸ›", enhancementLevel: 0 },
    { name: "ê²°íˆ¬ìš© ë ˆì´í”¼ì–´", baseModifiers: [{ stat: 'attack', value: 4, type: 'flat' }, { stat: 'attackSpeed', value: 0.04, type: 'flat' }], icon: "ğŸ¤º", enhancementLevel: 0 },
    { name: "ë£¬ ëŒ€ê²€", baseModifiers: [{ stat: 'attack', value: 8, type: 'flat' }, { stat: 'attackSpeed', value: -0.1, type: 'flat' }], icon: "ğŸ—¿ğŸ—¡ï¸", enhancementLevel: 0 },
  ],
  [ItemType.ARMOR_CHEST]: [
    { name: "ì²œ ì¡°ë¼", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }], icon: "ğŸ¥‹", enhancementLevel: 0 },
    { name: "ê°€ì£½ ì¡°ë¼", baseModifiers: [{ stat: 'defense', value: 2, type: 'flat' }], icon: "ğŸ‘•", enhancementLevel: 0 },
    { name: "ì‚¬ìŠ¬ ê°‘ì˜·", baseModifiers: [{ stat: 'defense', value: 4, type: 'flat' }], icon: "ğŸ›¡ï¸", enhancementLevel: 0 },
    { name: "íŒê¸ˆ ê°‘ì˜·", baseModifiers: [{ stat: 'defense', value: 6, type: 'flat' }], icon: "ğŸ½", enhancementLevel: 0 },
    { name: "ëˆ„ë¹„ ê°‘ì˜·", baseModifiers: [{ stat: 'defense', value: 2, type: 'flat' }, { stat: 'maxHp', value: 3, type: 'flat' }], icon: "ğŸ§¥", enhancementLevel: 0 },
    { name: "ìŠ¤í„°ë“œ ê°€ì£½ ê°‘ì˜·", baseModifiers: [{ stat: 'defense', value: 3, type: 'flat' }], icon: "ğŸ‘•", enhancementLevel: 0 },
    { name: "ë¯¸ëŠ˜ ê°‘ì˜·", baseModifiers: [{ stat: 'defense', value: 5, type: 'flat' }], icon: "ğŸ›¡ï¸", enhancementLevel: 0 },
    { name: "ê°•ì²  íŒê¸ˆ ê°‘ì˜·", baseModifiers: [{ stat: 'defense', value: 7, type: 'flat' }], icon: "ğŸ½", enhancementLevel: 0 },
    { name: "ë§ˆë²•ì‚¬ ë¡œë¸Œ", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }, { stat: 'healthRegen', value: 0.1, type: 'flat' }], icon: "ğŸ‘˜", enhancementLevel: 0 },
    { name: "ë„ì ì˜ ì¡°ë¼", baseModifiers: [{ stat: 'defense', value: 2, type: 'flat' }, { stat: 'movementSpeed', value: 0.05, type: 'flat' }], icon: "ğŸ§¥", enhancementLevel: 0 },
    { name: "ìš©ë³‘ ê°‘ì˜·", baseModifiers: [{ stat: 'defense', value: 4, type: 'flat' }, { stat: 'maxHp', value: 5, type: 'flat' }], icon: "ğŸ›¡ï¸", enhancementLevel: 0 },
    { name: "ê¸°ì‚¬ì˜ ê°‘ì˜·", baseModifiers: [{ stat: 'defense', value: 8, type: 'flat' }], icon: "ğŸ½", enhancementLevel: 0 },
    { name: "ëª¨í—˜ê°€ì˜ íŠœë‹‰", baseModifiers: [{ stat: 'defense', value: 2, type: 'flat' }], icon: "ğŸ¥‹", enhancementLevel: 0 },
    { name: "ì‚¬ëƒ¥ê¾¼ì˜ ê°€ì£½ì˜·", baseModifiers: [{ stat: 'defense', value: 3, type: 'flat' }], icon: "ğŸ‘•", enhancementLevel: 0 },
    { name: "ì „ì‚¬ì˜ ì‚¬ìŠ¬ê°‘ì˜·", baseModifiers: [{ stat: 'defense', value: 5, type: 'flat' }], icon: "ğŸ›¡ï¸", enhancementLevel: 0 },
    { name: "êµ°ì£¼ì˜ íŒê¸ˆê°‘ì˜·", baseModifiers: [{ stat: 'defense', value: 9, type: 'flat' }], icon: "ğŸ½", enhancementLevel: 0 },
    { name: "ì—¬í–‰ì ë§í† ", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }, { stat: 'maxHp', value: 2, type: 'flat' }], icon: "ğŸ§¥", enhancementLevel: 0 },
    { name: "ê²½í™” ê°€ì£½ ê°‘ì˜·", baseModifiers: [{ stat: 'defense', value: 4, type: 'flat' }], icon: "ğŸ‘•", enhancementLevel: 0 },
    { name: "ì •ì˜ˆ ë¯¸ëŠ˜ ê°‘ì˜·", baseModifiers: [{ stat: 'defense', value: 6, type: 'flat' }], icon: "ğŸ›¡ï¸", enhancementLevel: 0 },
    { name: "ìˆ˜í˜¸ìì˜ íŒê¸ˆ ê°‘ì˜·", baseModifiers: [{ stat: 'defense', value: 10, type: 'flat' }], icon: "ğŸ½", enhancementLevel: 0 },
  ],
  [ItemType.ARMOR_HEAD]: [
    { name: "ì²œ í›„ë“œ", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }], icon: "ğŸ§¢", enhancementLevel: 0 },
    { name: "ê°€ì£½ íˆ¬êµ¬", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }], icon: "ğŸ“", enhancementLevel: 0 },
    { name: "ì² ì œ íˆ¬êµ¬", baseModifiers: [{ stat: 'defense', value: 2, type: 'flat' }], icon: "â›‘ï¸", enhancementLevel: 0 },
    { name: "ê°•ì²  íˆ¬êµ¬", baseModifiers: [{ stat: 'defense', value: 3, type: 'flat' }], icon: "ğŸ©", enhancementLevel: 0 },
    { name: "ë§ˆë²•ì‚¬ ëª¨ì", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }, { stat: 'maxHp', value: 2, type: 'flat' }], icon: "ğŸ‘’", enhancementLevel: 0 },
    { name: "ì‚¬ëƒ¥ê¾¼ ë‘ê±´", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }, { stat: 'critChance', value: 0.005, type: 'flat' }], icon: "ğŸ§¢", enhancementLevel: 0 },
    { name: "ì „ì‚¬ íˆ¬êµ¬", baseModifiers: [{ stat: 'defense', value: 2, type: 'flat' }, { stat: 'maxHp', value: 3, type: 'flat' }], icon: "ğŸ“", enhancementLevel: 0 },
    { name: "ê¸°ì‚¬ íˆ¬êµ¬", baseModifiers: [{ stat: 'defense', value: 3, type: 'flat' }, { stat: 'defense', value: 1, type: 'flat' }], icon: "â›‘ï¸", enhancementLevel: 0 },
    { name: "ì§€í˜œì˜ ì„œí´ë¦¿", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }, { stat: 'healthRegen', value: 0.1, type: 'flat' }], icon: "ğŸ‘‘", enhancementLevel: 0 },
    { name: "ìˆ˜í˜¸ì ì–¼êµ´ë³´í˜¸ëŒ€", baseModifiers: [{ stat: 'defense', value: 4, type: 'flat' }], icon: "ğŸ©", enhancementLevel: 0 },
  ],
  [ItemType.ARMOR_LEGS]: [
    { name: "ì²œ ë°”ì§€", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }], icon: "ğŸ‘–", enhancementLevel: 0 },
    { name: "ê°€ì£½ ë°”ì§€", baseModifiers: [{ stat: 'defense', value: 2, type: 'flat' }], icon: "ğŸ‘–", enhancementLevel: 0 },
    { name: "ì‚¬ìŠ¬ ë ˆê¹…ìŠ¤", baseModifiers: [{ stat: 'defense', value: 3, type: 'flat' }], icon: "ğŸ‘–", enhancementLevel: 0 },
    { name: "íŒê¸ˆ ê°ë°˜", baseModifiers: [{ stat: 'defense', value: 4, type: 'flat' }], icon: "ğŸ‘–", enhancementLevel: 0 },
    { name: "ëˆ„ë¹„ ë°”ì§€", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }, { stat: 'maxHp', value: 2, type: 'flat' }], icon: "ğŸ‘–", enhancementLevel: 0 },
    { name: "ìŠ¤í„°ë“œ ê°€ì£½ ë°”ì§€", baseModifiers: [{ stat: 'defense', value: 2, type: 'flat' }, { stat: 'movementSpeed', value: 0.02, type: 'flat' }], icon: "ğŸ‘–", enhancementLevel: 0 },
    { name: "ë¯¸ëŠ˜ ë ˆê¹…ìŠ¤", baseModifiers: [{ stat: 'defense', value: 3, type: 'flat' }, { stat: 'maxHp', value: 3, type: 'flat' }], icon: "ğŸ‘–", enhancementLevel: 0 },
    { name: "ê°•ì²  ê°ë°˜", baseModifiers: [{ stat: 'defense', value: 5, type: 'flat' }], icon: "ğŸ‘–", enhancementLevel: 0 },
    { name: "ë§ˆë²•ì‚¬ ë°”ì§€", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }, { stat: 'healthRegen', value: 0.05, type: 'flat' }], icon: "ğŸ‘–", enhancementLevel: 0 },
    { name: "ë„ì ì˜ ë°”ì§€", baseModifiers: [{ stat: 'defense', value: 2, type: 'flat' }, { stat: 'critChance', value: 0.002, type: 'flat' }], icon: "ğŸ‘–", enhancementLevel: 0 },
  ],
  [ItemType.ARMOR_FEET]: [
    { name: "ë‚¡ì€ ì‹ ë°œ", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }, { stat: 'movementSpeed', value: 0.1, type: 'flat' }], icon: "ğŸ‘Ÿ", enhancementLevel: 0 },
    { name: "ê°€ì£½ ì¥í™”", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }, { stat: 'movementSpeed', value: 0.12, type: 'flat' }], icon: "ğŸ‘¢", enhancementLevel: 0 },
    { name: "ì‚¬ìŠ¬ ì¥í™”", baseModifiers: [{ stat: 'defense', value: 2, type: 'flat' }, { stat: 'movementSpeed', value: 0.08, type: 'flat' }], icon: "ğŸ‘", enhancementLevel: 0 },
    { name: "íŒê¸ˆ ì¥í™”", baseModifiers: [{ stat: 'defense', value: 3, type: 'flat' }, { stat: 'movementSpeed', value: 0.05, type: 'flat' }], icon: "ğŸ¥¾", enhancementLevel: 0 },
    { name: "ê°€ë²¼ìš´ ìƒŒë“¤", baseModifiers: [{ stat: 'defense', value: 0, type: 'flat' }, { stat: 'movementSpeed', value: 0.15, type: 'flat' }], icon: "ğŸ©´", enhancementLevel: 0 },
    { name: "ì—¬í–‰ì ì‹ ë°œ", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }, { stat: 'movementSpeed', value: 0.13, type: 'flat' }], icon: "ğŸ‘Ÿ", enhancementLevel: 0 },
    { name: "ì „íˆ¬ ì¥í™”", baseModifiers: [{ stat: 'defense', value: 2, type: 'flat' }, { stat: 'movementSpeed', value: 0.1, type: 'flat' }], icon: "ğŸ‘¢", enhancementLevel: 0 },
    { name: "ê¸°ì‚¬ì˜ ê·¸ë¦¬ë¸Œ", baseModifiers: [{ stat: 'defense', value: 3, type: 'flat' }, { stat: 'movementSpeed', value: 0.06, type: 'flat' }], icon: "ğŸ¥¾", enhancementLevel: 0 },
    { name: "ì‹ ì†ì˜ ì¥í™”", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }, { stat: 'movementSpeed', value: 0.18, type: 'flat' }], icon: "ğŸƒğŸ‘Ÿ", enhancementLevel: 0 },
    { name: "ë¬´ê±°ìš´ ì² ì œ ì¥í™”", baseModifiers: [{ stat: 'defense', value: 4, type: 'flat' }, { stat: 'movementSpeed', value: 0.03, type: 'flat' }], icon: "âš“ğŸ‘¢", enhancementLevel: 0 },
  ],
  [ItemType.ARMOR_HANDS]: [
    { name: "ì²œ ì¥ê°‘", baseModifiers: [{ stat: 'attackSpeed', value: 0.05, type: 'flat' }], icon: "ğŸ§¤", enhancementLevel: 0 },
    { name: "ê°€ì£½ ì¥ê°‘", baseModifiers: [{ stat: 'attackSpeed', value: 0.03, type: 'flat' }, { stat: 'defense', value: 1, type: 'flat' }], icon: "ğŸ¥Š", enhancementLevel: 0 },
    { name: "ì‚¬ìŠ¬ ì¥ê°‘", baseModifiers: [{ stat: 'attackSpeed', value: 0.02, type: 'flat' }, { stat: 'defense', value: 2, type: 'flat' }], icon: "ğŸ› ï¸ğŸ§¤", enhancementLevel: 0 },
    { name: "íŒê¸ˆ ê±´í‹€ë¦¿", baseModifiers: [{ stat: 'defense', value: 3, type: 'flat' }], icon: "ğŸ¦¾", enhancementLevel: 0 },
    { name: "ì‘ì—…ìš© ì¥ê°‘", baseModifiers: [{ stat: 'attackSpeed', value: 0.06, type: 'flat' }], icon: "ğŸ§¤", enhancementLevel: 0 },
    { name: "ì „íˆ¬ìš© ì¥ê°‘", baseModifiers: [{ stat: 'attackSpeed', value: 0.04, type: 'flat' }, { stat: 'defense', value: 1, type: 'flat' }, { stat: 'attack', value: 1, type: 'flat' }], icon: "ğŸ¥Š", enhancementLevel: 0 },
    { name: "ë¯¸ëŠ˜ ì¥ê°‘", baseModifiers: [{ stat: 'attackSpeed', value: 0.02, type: 'flat' }, { stat: 'defense', value: 2, type: 'flat' }, { stat: 'maxHp', value: 2, type: 'flat' }], icon: "ğŸ› ï¸ğŸ§¤", enhancementLevel: 0 },
    { name: "ê¸°ì‚¬ì˜ ê±´í‹€ë¦¿", baseModifiers: [{ stat: 'defense', value: 4, type: 'flat' }], icon: "ğŸ¦¾", enhancementLevel: 0 },
    { name: "ëª…ì‚¬ìˆ˜ ì¥ê°‘", baseModifiers: [{ stat: 'attackSpeed', value: 0.07, type: 'flat' }, { stat: 'critChance', value: 0.005, type: 'flat' }], icon: "ğŸ¯ğŸ§¤", enhancementLevel: 0 },
    { name: "ë¬´ê±°ìš´ ì² ì œ ê±´í‹€ë¦¿", baseModifiers: [{ stat: 'defense', value: 3, type: 'flat' }, { stat: 'attack', value: 2, type: 'flat' }, { stat: 'attackSpeed', value: -0.02, type: 'flat' }], icon: "âš“ğŸ¦¾", enhancementLevel: 0 },
  ],
  [ItemType.RING]: [
    { name: "êµ¬ë¦¬ ë°˜ì§€", baseModifiers: [{ stat: 'maxHp', value: 10, type: 'flat' }], icon: "ğŸ’", enhancementLevel: 0 },
    { name: "ì€ ë°˜ì§€", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }], icon: "ğŸ’", enhancementLevel: 0 },
    { name: "ê¸ˆ ë°˜ì§€", baseModifiers: [{ stat: 'healthRegen', value: 0.1, type: 'flat' }], icon: "ğŸª™", enhancementLevel: 0 },
    { name: "ë°±ê¸ˆ ë°˜ì§€", baseModifiers: [{ stat: 'attack', value: 1, type: 'flat' }], icon: "ğŸ’", enhancementLevel: 0 },
    { name: "ììˆ˜ì • ë°˜ì§€", baseModifiers: [{ stat: 'maxHp', value: 12, type: 'flat' }], icon: "ğŸ’œğŸ’", enhancementLevel: 0 },
    { name: "ë£¨ë¹„ ë°˜ì§€", baseModifiers: [{ stat: 'attack', value: 2, type: 'flat' }], icon: "â¤ï¸â€ğŸ”¥ğŸ’", enhancementLevel: 0 },
    { name: "ì‚¬íŒŒì´ì–´ ë°˜ì§€", baseModifiers: [{ stat: 'defense', value: 2, type: 'flat' }], icon: "ğŸ’™ğŸ’", enhancementLevel: 0 },
    { name: "ì—ë©”ë„ë“œ ë°˜ì§€", baseModifiers: [{ stat: 'healthRegen', value: 0.2, type: 'flat' }], icon: "ğŸ’šğŸ’", enhancementLevel: 0 },
    { name: "í•´ê³¨ ë°˜ì§€", baseModifiers: [{ stat: 'critChance', value: 0.005, type: 'flat' }], icon: "ğŸ’€ğŸ’", enhancementLevel: 0 },
    { name: "ë£¬ ë¬¸ì ë°˜ì§€", baseModifiers: [{ stat: 'critDamage', value: 0.03, type: 'flat' }], icon: "ğŸ“œğŸ’", enhancementLevel: 0 },
  ],
  [ItemType.AMULET]: [
    { name: "ì¡°ì¡í•œ ëª©ê±¸ì´", baseModifiers: [{ stat: 'healthRegen', value: 0.2, type: 'flat' }], icon: "ğŸ’", enhancementLevel: 0 },
    { name: "ì²­ë™ íœë˜íŠ¸", baseModifiers: [{ stat: 'maxHp', value: 8, type: 'flat' }], icon: "ğŸ¥‰", enhancementLevel: 0 },
    { name: "ì€ì œ ë¡œì¼“", baseModifiers: [{ stat: 'defense', value: 1, type: 'flat' }], icon: "ğŸ¥ˆ", enhancementLevel: 0 },
    { name: "ê¸ˆì œ ì²´ì¸", baseModifiers: [{ stat: 'attack', value: 1, type: 'flat' }], icon: "ğŸ¥‡", enhancementLevel: 0 },
    { name: "í† íŒŒì¦ˆ ëª©ê±¸ì´", baseModifiers: [{ stat: 'healthRegen', value: 0.25, type: 'flat' }], icon: "ğŸ’›ğŸ’", enhancementLevel: 0 },
    { name: "ê°€ë„· ë¶€ì ", baseModifiers: [{ stat: 'maxHp', value: 15, type: 'flat' }], icon: "â¤ï¸â€ğŸ©¹ğŸ’", enhancementLevel: 0 },
    { name: "ì˜¤íŒ” ì•„ë®¬ë ›", baseModifiers: [{ stat: 'defense', value: 2, type: 'flat' }], icon: "ğŸ¤ğŸ’", enhancementLevel: 0 },
    { name: "í‘ìš”ì„ íƒˆë¦¬ìŠ¤ë§Œ", baseModifiers: [{ stat: 'attack', value: 2, type: 'flat' }], icon: "ğŸ–¤ğŸ’", enhancementLevel: 0 },
    { name: "ë¶€ì¡± ë¶€ì ", baseModifiers: [{ stat: 'critDamage', value: 0.05, type: 'flat' }], icon: "ğŸ—¿ğŸ’", enhancementLevel: 0 },
    { name: "ì„±ìŠ¤ëŸ¬ìš´ ìƒì§•", baseModifiers: [{ stat: 'attackSpeed', value: 0.01, type: 'flat' }], icon: "âœï¸ğŸ’", enhancementLevel: 0 },
  ]
};

export const MAX_BATTLE_LOG_MESSAGES = 35; 
export const PLAYER_ID = 'player';
export const INVENTORY_SLOTS = 20;
export const MAX_ATTACK_EVENTS = 10; 
export const MAX_SKILL_PROC_EVENTS = 15; 

export const SLOT_ICON_MAP: Record<string, string> = {
  [ItemType.WEAPON]: 'âš”ï¸',
  [ItemType.ARMOR_HEAD]: 'ğŸ‘‘',
  [ItemType.ARMOR_CHEST]: 'ğŸ‘•',
  [ItemType.ARMOR_LEGS]: 'ğŸ‘–',
  [ItemType.ARMOR_FEET]: 'ğŸ‘Ÿ',
  [ItemType.ARMOR_HANDS]: 'ğŸ§¤',
  [ItemType.RING]: 'ğŸ’',
  [ItemType.AMULET]: 'ğŸ’',
  ['ENHANCEMENT_PANEL_ICON']: 'ğŸ”¨', // Icon for the enhancement panel button
};

export const TAILWIND_COLOR_MAP_ADDITIONS: Record<string, string> = {
  'bg-emerald-700': '#047857',
  'bg-lime-600': '#65a30d',
  'bg-cyan-600': '#0891b2',
  'bg-stone-500': '#78716c',
  'bg-indigo-700': '#4338ca',
  'bg-amber-700': '#b45309',
  'bg-teal-700': '#0f766e',
  'bg-orange-600': '#ea580c',
  'bg-sky-700': '#0369a1',
  'bg-neutral-600': '#525252',
  'bg-rose-700': '#be123c',
  'bg-slate-400': '#94a3b8',
  'bg-red-500': '#ef4444',
  'bg-fuchsia-500': '#d946ef',
  'bg-green-500': '#22c55e',
};


export const SHOP_NUM_ITEMS_TO_DISPLAY = 8;
export const SELL_PRICE_MODIFIER = 0.5; 
export const SHOP_ITEM_LEVEL_SCALING_FACTOR = 0.8; 
export const SHOP_REFRESH_COST = 50;